Basic,Text,ProcessingRegular,ExpressionsRegular,expressions•A,formal,language,for,specifying,text,strings•How,can,we,search,for,any,of,these?•woodchuck•woodchucks•Woodchuck•Woodchucks,Regular,Expressions:,Disjunctions•Letters,inside,square,brackets,[]•Ranges[A-Z]PatternMatches[wW]oodchuckWoodchuck,woodchuck[1234567890]Any,digitPatternMatches[A-Z]An,upper,case,letterDrenched,Blossoms[a-z]A,lower,case,lettermy,beans,were,impatient[0-9]A,singledigitChapter,1:,Down,the,Rabbit,HoleRegular,Expressions:,Negation,in,Disjunction•Negations[^Ss]•Carat,means,negation,only,when,first,in,[]PatternMatches[^A-Z]Notan,upper,case,letterOyfnpripetchik[^Ss]Neither,‘S’,nor,‘s’Ihave,no,exquisite,reason”[^e^]Neither,e,nor,^Look,herea^bThe,patternacaratbLook,up,a^bnowRegular,Expressions:,More,Disjunction•Woodchucks,is,another,name,for,groundhog!•The,pipe,|,for,disjunctionPatternMatchesgroundhog|woodchuckyours|mineyoursminea|b|c=,[abc][gG]roundhog|[Ww]oodchuck,Regular,Expressions:,?*,+,.,Stephen,C,KleenePatternMatchescolou?rOptionalprevious,charcolorcolouroo*h!0,or,more,ofprevious,charoh!ooh!oooh!ooooh!o+h!1,or,more,of,previous,charoh!ooh!oooh!ooooh!baa+baabaaabaaaabaaaaabeg.nbegin,begun,begun,beg3nKleene*,,Kleene+,Regular,Expressions:,Anchors,^,$PatternMatches^[A-Z],PaloAlto^[^A-Za-z],1“Hello”\.$The,end..$The,end?The,end!Example•Find,me,all,instances,of,the,word,“the”,in,a,text.theMisses,capitalized,examples[tT]heIncorrectly,returns,otheror,theology[^a-zA-Z][tT]he[^a-zA-Z]Errors•The,process,we,just,went,through,was,based,on,fixing,two,kinds,of,errors•Matching,strings,that,we,should,not,have,matched,(there,,then,,other)•False,positives,(Type,I)•Not,matching,things,that,we,should,have,matched,(The)•False,negatives,(Type,II)Errors,cont.•In,NLP,we,are,always,dealing,with,these,kinds,of,errors.•Reducing,the,error,rate,for,an,application,often,involves,two,antagonistic,efforts:,•Increasing,accuracy,or,precision,(minimizing,false,positives)•Increasing,coverage,or,recall,(minimizing,false,negatives).Summary•Regular,expressions,play,a,surprisingly,large,role•Sophisticated,sequences,of,regular,expressions,are,often,the,first,model,for,any,text,processing,text•For,many,hard,tasks,,we,use,machine,learning,classifiers•But,regular,expressions,are,used,as,features,in,the,classifiers•Can,be,very,useful,in,capturing,generalizations11Basic,Text,ProcessingRegular,ExpressionsBasic,Text,ProcessingWord,tokenizationText,Normalization•Every,NLP,task,needs,to,do,text,normalization:,1.Segmenting/tokenizing,words,in,running,text2.Normalizing,word,formats3.Segmenting,sentences,in,running,textHow,many,words?•I,do,uh,main-­‐mainly,business,data,processing•Fragments,,filled,pauses•Seuss’s,cat,in,the,hat,is,different,from,othercats!,•Lemma:,same,stem,,part,of,speech,,rough,word,sense•cat,and,cats,=,same,lemma•Wordform:,the,full,inflected,surface,form•cat,and,cats,=,different,wordformsHow,many,words?they,lay,back,on,the,San,Francisco,grass,and,looked,at,the,stars,and,their•Type:,an,element,of,the,vocabulary.•Token:,an,instance,of,that,type,in,running,text.•How,many?•15,tokens,(or,14)•13,types,(or,12),(or,11?)How,many,words?N=,number,of,tokensV=,vocabulary,=,set,of,types|V|is,the,size,of,the,vocabularyTokens,=,NTypes,=,|V|Switchboard,phoneconversations2.4,million20thousandShakespeare884,00031thousandGoogle,N-­‐grams1,trillion13,millionChurch,and,Gale,(1990):,|V|,>,O(N½)Simple,Tokenization,in,UNIX•(Inspired,by,Ken,Church’s,UNIX,for,Poets.)•Given,a,text,file,,output,the,word,tokens,and,their,frequenciestr,-sc’A-Za-z’,’\n’,<,shakes.txt|,sort,|,uniq–c,1945,A72,AARON19,ABBESS5,ABBOT...,...25,Aaron6,Abate1,Abates5,Abbess6,Abbey3,Abbot....,…Change,all,non-alpha,tonewlinesSort,in,alphabetical,orderMerge,and,count,each,typeThe,first,step:,tokenizingtr,-sc’A-Za-z’,’\n’,<,shakes.txt|,headTHESONNETSbyWilliamShakespeareFromfairestcreaturesWe...The,second,step:,sortingtr,-sc’A-Za-z’,’\n’,<,shakes.txt|,sort,|,headAAAAAAAAA...More,counting•Merging,upper,and,lower,casetr‘A-Z’,‘a-z’,<,shakes.txt|,tr,–sc‘A-Za-z’,‘\n’,|,sort,|,uniq–c,•Sorting,the,countstr‘A-Z’,‘a-z’,<,shakes.txt|,tr,–sc‘A-Za-z’,‘\n’,|,sort,|,uniq–c,|,sort,–n,–r23243,the22225,i18618,and16339,to15687,of12780,a12163,you10839,my10005,in8954,dWhat,happened,here?Issues,in,Tokenization•Finland’s,capital,→Finland,FinlandsFinland’s,?•what’re,,I’m,,isn’t→What,are,,I,am,,is,not•Hewlett-Packard,→Hewlett,Packard,?•state-of-the-art,→state,of,the,art,?•Lowercase→lower-case,lowercase,lower,case,?•San,Francisco→one,token,or,two?•m.p.h.,,PhD.→??Tokenization:,language,issues•French•L'ensemble→one,token,or,two?•L,?,L’,?,Le,?•Want,l’ensembleto,match,with,un,ensemble•German,noun,compounds,are,not,segmented•Lebensversicherungsgesellschaftsangestellter•‘life,insurance,company,employee’•German,information,retrieval,needs,compound,splitterTokenization:,language,issues•Chinese,and,Japanese,no,spaces,between,words:•莎拉波娃现在居住在美国东南部的佛罗里达。•莎拉波娃现在居住在美国东南部的佛罗里达•Sharapovanow,lives,in,US,southeastern,Florida•Further,complicated,in,Japanese,,with,multiple,alphabets,intermingled•Dates/amounts,in,multiple,formatsフォーチュン500社は情報不足のため時間あた$500K(約6,000万円)KatakanaHiraganaKanjiRomajiEnd-­‐user,can,express,query,entirely,in,hiragana!Word,Tokenization,in,Chinese•Also,called,Word,Segmentation•Chinese,words,are,composed,of,characters•Characters,are,generally,1,syllable,and,1,morpheme.•Average,word,is,2.4,characters,long.•Standard,baseline,segmentation,algorithm:,•Maximum,Matching,(also,called,Greedy)Maximum,MatchingWord,Segmentation,Algorithm•Given,a,wordlist,of,Chinese,,and,a,string.1)Start,a,pointer,at,the,beginning,of,the,string2)Find,the,longest,word,in,dictionary,that,matches,the,string,starting,at,pointer3)Move,the,pointer,over,the,word,in,string4)Go,to,2Max-­‐match,segmentation,illustration•Thecatinthehat•Thetabledownthere•Doesn’t,generally,work,in,English!•But,works,astonishingly,well,in,Chinese•莎拉波娃现在居住在美国东南部的佛罗里达。•莎拉波娃现在居住在美国东南部的佛罗里达•Modern,probabilistic,segmentation,algorithms,even,betterthe,table,down,therethe,cat,in,the,hattheta,bled,own,thereBasic,Text,ProcessingWord,tokenizationBasic,Text,ProcessingWord,Normalization,and,StemmingNormalization•Need,to,“normalize”,terms,•Information,Retrieval:,indexed,text,&,query,terms,must,have,same,form.•We,want,to,match,U.S.A.and,USA•We,implicitly,define,equivalence,classes,of,terms•e.g.,,deleting,periods,in,a,term•Alternative:,asymmetric,expansion:•Enter:,windowSearch:,window,,windows•Enter:,windowsSearch:,Windows,,windows,,window•Enter:,WindowsSearch:,Windows•Potentially,more,powerful,,but,less,efficientCase,folding•Applications,like,IR:,reduce,all,letters,to,lower,case•Since,users,tend,to,use,lower,case•Possible,exception:,upper,case,in,mid-­‐sentence?•e.g.,,General,Motors•Fedvs.,fed•SAILvs.,sail•For,sentiment,analysis,,MT,,Information,extraction•Case,is,helpful,(USversus,us,is,important)Lemmatization•Reduce,inflections,or,variant,forms,to,base,form•am,,are,is,→be•car,,cars,,car's,,cars'→car•the,boy's,cars,are,different,colors→the,boy,car,be,different,color•Lemmatization:,have,to,find,correct,dictionary,headword,form•Machine,translation•Spanish,quiero(‘I,want’),,quieres(‘you,want’),same,lemma,as,querer‘want’Morphology•Morphemes:•The,small,meaningful,units,that,make,up,words•Stems:,The,core,meaning-­‐bearing,units•Affixes:,Bits,and,pieces,that,adhere,to,stems•Often,with,grammatical,functionsStemming•Reduce,terms,to,their,stems,in,information,retrieval•Stemmingis,crude,chopping,of,affixes•language,dependent•e.g.,,automate(s),,automatic,,automationall,reduced,to,automat.for,example,compressed,and,compression,are,both,accepted,as,equivalent,to,compress.for,examplcompress,andcompress,arboth,acceptas,equivalto,compressPorter’s,algorithmThe,most,common,English,stemmerStep,1asses→sscaresses,→caressies→iponies,→poniss→sscaress,→caresss,→øcats,→catStep,1b(*v*)ing→øwalking,→walksing,→sing(*v*)ed→øplastered,→plaster…Step,2,(for,long,stems)ational→ate,relational→relateizer→izedigitizer,→digitizeator→ateoperator,→operate…Step,3,(for,longer,stems)al,→ørevival,→revivable,→øadjustable,→adjustate,→øactivate,→activ…Viewing,morphology,in,a,corpusWhy,only,strip,–ingif,there,is,a,vowel?(*v*)ing→øwalking,→walksing,→sing,36Viewing,morphology,in,a,corpusWhy,only,strip,–ingif,there,is,a,vowel?(*v*)ing→øwalking,→walksing,→sing,37tr-sc'A-Za-z','\n',<,shakes.txt|,grep’ing$',|,sort,|,uniq-c,|,sort,–nr,tr-sc'A-Za-z','\n',<,shakes.txt|,grep'[aeiou].*ing$',|,sort,|,uniq-c,|,sort,–nr548,being541,nothing152,something145,coming130,morning122,having120,living117,loving116,Being102,going1312,King548,being541,nothing388,king375,bring358,thing307,ring152,something145,coming130,morning,Dealing,with,complex,morphology,is,sometimes,necessary•Some,languages,requires,complex,morpheme,segmentation•Turkish•Uygarlastiramadiklarimizdanmissinizcasina•`(behaving),as,if,you,are,among,those,whom,we,could,not,civilize’•Uygar`civilized’,+,las`become’,+,tir`cause’,+,ama`not,able’,+,dik`past’,+,lar‘plural’+,imiz‘p1pl’,+,dan‘abl’,+,mis‘past’,+,siniz‘2pl’,+,casina‘as,if’,Basic,Text,ProcessingWord,Normalization,and,StemmingBasic,Text,ProcessingSentence,Segmentation,and,Decision,TreesSentence,Segmentation•!,,?,are,relatively,unambiguous•Period,“.”,is,quite,ambiguous•Sentence,boundary•Abbreviations,like,Inc.,or,Dr.•Numbers,like,.02%,or,4.3•Build,a,binary,classifier•Looks,at,a,“.”•Decides,EndOfSentence/NotEndOfSentence•Classifiers:,hand-­‐written,rules,,regular,expressions,,or,machine-­‐learningDetermining,if,a,word,is,end-­‐of-­‐sentence:,a,Decision,Tree,More,sophisticated,decision,tree,features•Case,of,word,with,“.”:,Upper,,Lower,,Cap,,Number•Case,of,word,after,“.”:,Upper,,Lower,,Cap,,Number•Numeric,features•Length,of,word,with,“.”•Probability(word,with,“.”,occurs,at,end-­‐of-­‐s)•Probability(word,after,“.”,occurs,at,beginning-­‐of-­‐s)Implementing,Decision,Trees•A,decision,tree,is,just,an,if-­‐then-­‐else,statement•The,interesting,research,is,choosing,the,features•Setting,up,the,structure,is,often,too,hard,to,do,by,hand•Hand-­‐building,only,possible,for,very,simple,features,,domains•For,numeric,features,,it’s,too,hard,to,pick,each,threshold•Instead,,structure,usually,learned,by,machine,learning,from,a,training,corpusDecision,Trees,and,other,classifiers•We,can,think,of,the,questions,in,a,decision,tree•As,features,that,could,be,exploited,by,any,kind,of,classifier•Logistic,regression•SVM•Neural,Nets•etc.Basic,Text,ProcessingSentence,Segmentation,and,Decision,Trees